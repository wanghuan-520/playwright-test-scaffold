# ğŸ­ Playwright Test Scaffold

> AI é©±åŠ¨çš„ Playwright è‡ªåŠ¨åŒ–æµ‹è¯•è„šæ‰‹æ¶ - ç”¨è‡ªç„¶è¯­è¨€ç”Ÿæˆæµ‹è¯•

## âœ¨ ç‰¹æ€§

- ğŸ¤– **AI å¯¹è¯ç”Ÿæˆ** - ç›´æ¥ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼ŒAI è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•
- ğŸ” **è‡ªåŠ¨é¡µé¢åˆ†æ** - è‡ªåŠ¨è¯†åˆ«é¡µé¢ç±»å‹ã€å…ƒç´ ã€è¡¨å•ç»“æ„
- âš¡ **ä»£ç ç”Ÿæˆ** - è‡ªåŠ¨ç”Ÿæˆ Page Object å’Œæµ‹è¯•ç”¨ä¾‹ä»£ç 
- ğŸ” **æ™ºèƒ½ç™»å½•å¤„ç†** - è‡ªåŠ¨åˆ†æå¹¶å®ç°ç™»å½•æµç¨‹
- ğŸ©º **æœåŠ¡å¥åº·æ£€æŸ¥** - æµ‹è¯•å‰è‡ªåŠ¨æ£€æŸ¥æœåŠ¡æ˜¯å¦å¯åŠ¨
- ğŸ“Š **Allure æŠ¥å‘Š** - ç¾è§‚çš„å¯è§†åŒ–æµ‹è¯•æŠ¥å‘Š

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/Mac

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
playwright install chromium
```

### 2. é…ç½®é¡¹ç›®

ç¼–è¾‘ `config/project.yaml`ï¼š

```yaml
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# GitHub ä»“åº“é…ç½®ï¼ˆAI å¯é€šè¿‡æ­¤äº†è§£é¡¹ç›®ç»“æ„ï¼‰
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
repositories:
  frontend:
    url: "https://github.com/your-org/frontend-repo"
    branch: "main"
  backend:
    url: "https://github.com/your-org/backend-repo"
    branch: "main"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# å¤šç¯å¢ƒæœåŠ¡åœ°å€é…ç½®
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
environments:
  default: "dev"
  
  dev:
    frontend:
      url: "https://localhost:3000"
      health_check: "/"
    backend:
      url: "https://localhost:44320"
      health_check: "/api/health"
  
  staging:
    frontend:
      url: "https://staging.example.com"
    backend:
      url: "https://staging-api.example.com"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# æµ‹è¯•æ•°æ®é…ç½®
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
test_data:
  accounts:
    path: "test-data/test_account_pool.json"
  orders:
    path: "test-data/orders.json"
```

### 3. ä¸ AI å¯¹è¯ç”Ÿæˆæµ‹è¯•

åœ¨ Cursor ä¸­ç›´æ¥å¯¹è¯ï¼š

```
ç”¨æˆ·: å¸®æˆ‘æµ‹è¯• https://localhost:3000/admin/profile é¡µé¢ï¼Œä½¿ç”¨ 4 ä¸ª worker æ‰§è¡Œ
```

AI å°†è‡ªåŠ¨å®Œæˆï¼š
1. ğŸ©º **æ£€æŸ¥æœåŠ¡çŠ¶æ€** - éªŒè¯å‰åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨
2. ğŸ” **åˆ†æ GitHub ä»£ç ** - æ ¹æ®é¡µé¢ URL æŸ¥æ‰¾å¯¹åº”çš„å‰ç«¯ä»£ç 
3. ğŸ“‹ **æå–åŠŸèƒ½ç‚¹** - åˆ†æè¡¨å•å­—æ®µã€éªŒè¯è§„åˆ™ã€API æ¥å£
4. ğŸ“ **ç”Ÿæˆ Page Object** - åŸºäºä»£ç åˆ†æåˆ›å»º `pages/xxx_page.py`
5. âš¡ **ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹** - è¦†ç›–æ‰€æœ‰åŠŸèƒ½ç‚¹çš„ `tests/test_xxx.py`
6. ğŸ” **å¤„ç†ç™»å½•æµç¨‹** - å¦‚éœ€ç™»å½•ï¼Œè‡ªåŠ¨å®ç°ç™»å½•é€»è¾‘
7. ğŸš€ **æ‰§è¡Œæµ‹è¯•** - è¿è¡Œ pytest å¹¶è¡Œæµ‹è¯•
8. ğŸ“Š **ç”ŸæˆæŠ¥å‘Š** - ç”Ÿæˆå¹¶æ‰“å¼€ Allure æŠ¥å‘Š

## ğŸ“– å¯¹è¯æŒ‡ä»¤ç¤ºä¾‹

| æŒ‡ä»¤ç±»å‹ | ç¤ºä¾‹ |
|----------|------|
| **ç”Ÿæˆæµ‹è¯•** | "å¸®æˆ‘ç”Ÿæˆ https://example.com/login é¡µé¢çš„æµ‹è¯•" |
| **è¿è¡Œæµ‹è¯•** | "è¿è¡Œæµ‹è¯•ï¼Œä½¿ç”¨ 4 ä¸ª worker" |
| **åªè¿è¡Œæ ¸å¿ƒæµ‹è¯•** | "åªè¿è¡Œ P0 çº§åˆ«çš„æµ‹è¯•ç”¨ä¾‹" |
| **è°ƒè¯•æ¨¡å¼** | "ç”¨ headed æ¨¡å¼è¿è¡Œæµ‹è¯•" |
| **ç¯å¢ƒåˆ‡æ¢** | "åˆ‡æ¢åˆ° staging ç¯å¢ƒ" |
| **äº†è§£é¡¹ç›®** | "å¸®æˆ‘äº†è§£ä¸€ä¸‹å‰ç«¯ä»“åº“çš„ç»“æ„" |
| **ä¿®å¤é—®é¢˜** | "æµ‹è¯•å¤±è´¥äº†ï¼Œå¸®æˆ‘ä¿®å¤" |
| **æŸ¥çœ‹æŠ¥å‘Š** | "æ‰“å¼€ Allure æŠ¥å‘Š" |

## ğŸ” GitHub ä»£ç åˆ†æ

é…ç½®å¥½ä»“åº“åœ°å€åï¼ŒAI ä¼šæ ¹æ®æµ‹è¯•é¡µé¢çš„ URL è‡ªåŠ¨åˆ†æå¯¹åº”çš„ä»£ç ï¼š

```
ç”¨æˆ·: å¸®æˆ‘æµ‹è¯• /admin/profile/change-password é¡µé¢

AI åˆ†ææµç¨‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. æ ¹æ® URL æ¨æ–­ä»£ç ä½ç½®                                     â”‚
â”‚    â†’ src/pages/admin/profile/ChangePassword.tsx             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. æŸ¥è¯¢ GitHub ä»“åº“åˆ†æä»£ç                                   â”‚
â”‚    â†’ è¡¨å•å­—æ®µ: currentPassword, newPassword, confirmPasswordâ”‚
â”‚    â†’ éªŒè¯è§„åˆ™: 8-20å­—ç¬¦, å¤§å°å†™+æ•°å­—                         â”‚
â”‚    â†’ API æ¥å£: POST /api/user/change-password               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. ç”Ÿæˆè¦†ç›–æ‰€æœ‰åŠŸèƒ½ç‚¹çš„æµ‹è¯•ç”¨ä¾‹                              â”‚
â”‚    â†’ P0: æ­£å¸¸ä¿®æ”¹å¯†ç                                        â”‚
â”‚    â†’ P0: å½“å‰å¯†ç é”™è¯¯                                       â”‚
â”‚    â†’ P1: å¯†ç æ ¼å¼éªŒè¯                                       â”‚
â”‚    â†’ P1: ç¡®è®¤å¯†ç ä¸åŒ¹é…                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ©º æœåŠ¡å¥åº·æ£€æŸ¥

æµ‹è¯•å‰ï¼ŒAI ä¼šè‡ªåŠ¨æ£€æŸ¥é…ç½®çš„æœåŠ¡æ˜¯å¦å¯ç”¨ï¼š

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
æœåŠ¡çŠ¶æ€æ£€æŸ¥
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… frontend: https://localhost:3000 (HTTP 200)
âœ… backend: https://localhost:44320 (HTTP 200)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… æ‰€æœ‰æœåŠ¡æ­£å¸¸è¿è¡Œ
```

å¦‚æœæœåŠ¡ä¸å¯ç”¨ï¼Œä¼šæç¤ºä½ å…ˆå¯åŠ¨æœåŠ¡ï¼š

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
æœåŠ¡çŠ¶æ€æ£€æŸ¥
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âŒ frontend: https://localhost:3000 (è¿æ¥å¤±è´¥)
âœ… backend: https://localhost:44320 (HTTP 200)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âŒ éƒ¨åˆ†æœåŠ¡ä¸å¯ç”¨ï¼Œè¯·å…ˆå¯åŠ¨æœåŠ¡
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
playwright-test-scaffold/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ project.yaml         # é¡¹ç›®é…ç½®ä¸­å¿ƒ
â”œâ”€â”€ core/                    # æ ¸å¿ƒæ¡†æ¶
â”‚   â”œâ”€â”€ base_page.py        # é¡µé¢åŸºç±»
â”‚   â”œâ”€â”€ page_utils.py       # é¡µé¢å·¥å…·
â”‚   â””â”€â”€ fixtures.py         # pytest fixtures
â”œâ”€â”€ generators/              # ä»£ç ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ page_analyzer.py    # é¡µé¢åˆ†æå™¨
â”‚   â””â”€â”€ test_code_generator.py
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ config.py           # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ logger.py           # æ—¥å¿—ç³»ç»Ÿ
â”‚   â””â”€â”€ service_checker.py  # æœåŠ¡å¥åº·æ£€æŸ¥
â”œâ”€â”€ pages/                   # Page Objects
â”œâ”€â”€ tests/                   # æµ‹è¯•ç”¨ä¾‹
â”œâ”€â”€ test-data/              # æµ‹è¯•æ•°æ®
â”œâ”€â”€ allure-results/         # Allure æ•°æ®
â””â”€â”€ allure-report/          # æµ‹è¯•æŠ¥å‘Š
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒåˆ‡æ¢

```bash
# æ–¹å¼1: ç¯å¢ƒå˜é‡
export TEST_ENV=staging

# æ–¹å¼2: ä¿®æ”¹é…ç½®æ–‡ä»¶
# config/project.yaml ä¸­çš„ environments.default
```

### æµ‹è¯•æ•°æ®

æµ‹è¯•æ•°æ®ä½äº `test-data/` ç›®å½•ï¼Œåœ¨ `config/project.yaml` ä¸­é…ç½®è·¯å¾„ï¼š

```yaml
test_data:
  accounts:
    path: "test-data/test_account_pool.json"
  orders:
    path: "test-data/orders.json"
  products:
    path: "test-data/products.json"
```

## ğŸ·ï¸ æµ‹è¯•ä¼˜å…ˆçº§

| æ ‡è®° | è¯´æ˜ |
|------|------|
| `P0` | æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•ï¼ˆå¿…é¡»é€šè¿‡ï¼‰ |
| `P1` | é‡è¦åŠŸèƒ½æµ‹è¯• |
| `P2` | ä¸€èˆ¬åŠŸèƒ½æµ‹è¯• |

## ğŸ“Š æŸ¥çœ‹æŠ¥å‘Š

å¯¹è¯ä¸­ç›´æ¥è¯´ï¼š
```
ç”¨æˆ·: æ‰“å¼€ Allure æŠ¥å‘Š
```

æˆ–æ‰‹åŠ¨æ‰§è¡Œï¼š
```bash
allure serve allure-results
```

---

**Happy Testing! ğŸ­**
