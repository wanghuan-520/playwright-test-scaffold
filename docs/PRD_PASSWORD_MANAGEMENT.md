# 修改密码测试关键信息

**测试页面**: `https://localhost:3000/admin/profile/change-password`

---

## 1. 表单字段

| 字段 | 类型 | 必填 | 说明 |
|------|------|------|------|
| 当前密码 | password | ✅ | 验证用户身份 |
| 新密码 | password | ✅ | 符合密码策略 |
| 确认密码 | password | ✅ | 必须与新密码一致 |

---

## 2. 密码策略

| 规则 | 要求 |
|------|------|
| 最小长度 | 6 个字符 |
| 大写字母 | 至少 1 个 (A-Z) |
| 小写字母 | 至少 1 个 (a-z) |
| 数字 | 至少 1 个 (0-9) |
| 特殊字符 | 至少 1 个 (!@#$%^&*) |

---

## 3. 业务规则

| 编号 | 规则 |
|------|------|
| BR-CP-001 | 当前密码必须正确 |
| BR-CP-002 | 新密码不能与当前密码相同 |
| BR-CP-003 | 新密码必须符合密码策略 |
| BR-CP-004 | 确认密码必须与新密码一致 |

---

## 4. 错误场景

| 场景 | 错误消息 |
|------|----------|
| 当前密码错误 | "当前密码不正确" |
| 新密码太短 | "密码至少需要 6 个字符" |
| 缺少大写字母 | "密码必须包含大写字母" |
| 缺少小写字母 | "密码必须包含小写字母" |
| 缺少数字 | "密码必须包含数字" |
| 缺少特殊字符 | "密码必须包含特殊字符" |
| 两次密码不一致 | "两次输入的密码不一致" |
| 新旧密码相同 | "新密码不能与当前密码相同" |

---

## 5. 测试用例清单

### P0 - 核心功能

| TC | 场景 | 预期结果 |
|----|------|----------|
| P0-01 | 页面正常加载 | 显示3个密码输入框 + 密码要求 + 提交按钮 |
| P0-02 | 正确输入所有字段，提交成功 | 显示"密码修改成功" |
| P0-03 | 修改后使用新密码登录 | 登录成功 |

### P1 - 验证测试

| TC | 场景 | 预期结果 |
|----|------|----------|
| P1-01 | 当前密码错误 | 错误提示 |
| P1-02 | 新密码少于6字符 | 错误提示 |
| P1-03 | 新密码无大写字母 | 错误提示 |
| P1-04 | 新密码无小写字母 | 错误提示 |
| P1-05 | 新密码无数字 | 错误提示 |
| P1-06 | 新密码无特殊字符 | 错误提示 |
| P1-07 | 两次密码不一致 | 错误提示 |
| P1-08 | 新旧密码相同 | 错误提示 |

### P2 - UI/UX

| TC | 场景 | 预期结果 |
|----|------|----------|
| P2-01 | 密码强度指示器 | 随输入实时变化 |
| P2-02 | 密码显示/隐藏切换 | 正常切换 |
| P2-03 | 密码要求清单实时校验 | 满足条件显示 ✓ |

---

## 6. 测试数据示例

```python
# 有效密码
valid_password = "Test@123"

# 无效密码示例
invalid_passwords = {
    "too_short": "Ab@1",           # < 6 字符
    "no_upper": "test@123",        # 无大写
    "no_lower": "TEST@123",        # 无小写  
    "no_digit": "Test@abc",        # 无数字
    "no_special": "Test1234",      # 无特殊字符
}
```
