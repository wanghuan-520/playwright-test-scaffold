# ═══════════════════════════════════════════════════════════════
# Playwright Test Scaffold - Project Configuration
# ═══════════════════════════════════════════════════════════════
# AI 驱动的自动化测试脚手架 - 项目配置中心

# ─────────────────────────────────────────────────────────────────
# 项目基本信息
# ─────────────────────────────────────────────────────────────────
project:
  name: "My Web Application"
  description: "UI Automation Tests"
  version: "1.0.0"

# ─────────────────────────────────────────────────────────────────
# GitHub 仓库配置（AI 可通过此了解项目结构）
# ─────────────────────────────────────────────────────────────────
repositories:
  frontend:
    url: ""                              # 如: https://github.com/owner/frontend
    branch: "main"
    description: "前端项目"
  backend:
    url: ""                              # 如: https://github.com/owner/backend
    branch: "main"
    description: "后端 API 服务"

# ─────────────────────────────────────────────────────────────────
# 多环境服务地址配置
# ─────────────────────────────────────────────────────────────────
environments:
  default: "dev"
  
  dev:
    frontend:
      url: "https://localhost:3000"
      health_check: "/"                  # 健康检查路径
    backend:
      url: "https://localhost:44320"
      health_check: "/api/health"
  
  staging:
    frontend:
      url: "https://staging.example.com"
      health_check: "/"
    backend:
      url: "https://staging-api.example.com"
      health_check: "/api/health"
  
  production:
    frontend:
      url: "https://www.example.com"
      health_check: "/"
    backend:
      url: "https://api.example.com"
      health_check: "/api/health"

# ─────────────────────────────────────────────────────────────────
# 测试数据配置（支持多种类型）
# ─────────────────────────────────────────────────────────────────
test_data:
  # 测试账号池
  accounts:
    path: "test-data/test_account_pool.json"
    description: "测试账号池"
  
  # 可扩展：添加其他测试数据类型
  # orders:
  #   path: "test-data/orders.json"
  #   description: "订单测试数据"
  #
  # products:
  #   path: "test-data/products.json"
  #   description: "商品测试数据"

# ─────────────────────────────────────────────────────────────────
# 服务健康检查配置
# ─────────────────────────────────────────────────────────────────
health_check:
  enabled: true                          # 是否启用服务检查
  timeout: 10                            # 超时时间（秒）
  retry_count: 3                         # 重试次数
  retry_interval: 2                      # 重试间隔（秒）

# ─────────────────────────────────────────────────────────────────
# 浏览器配置
# ─────────────────────────────────────────────────────────────────
browser:
  headless: true                         # 无头模式
  slow_mo: 0                             # 操作延迟（毫秒）
  timeout: 30000                         # 默认超时（毫秒）
  viewport:
    width: 1920
    height: 1080
  type: "chromium"                       # chromium, firefox, webkit
  args:
    - "--disable-web-security"
    - "--ignore-certificate-errors"
    - "--allow-insecure-localhost"
    - "--disable-gpu"
    - "--no-sandbox"

# ─────────────────────────────────────────────────────────────────
# 测试执行配置
# ─────────────────────────────────────────────────────────────────
test:
  retry_count: 2                         # 失败重试次数
  implicit_wait: 10                      # 隐式等待时间（秒）
  screenshot_on_failure: true            # 失败时截图
  video_recording: false                 # 视频录制
  parallel_workers: "auto"               # 并行 worker 数量

# ─────────────────────────────────────────────────────────────────
# 报告配置
# ─────────────────────────────────────────────────────────────────
reports:
  allure:
    enabled: true
    results_dir: "allure-results"
    report_dir: "allure-report"
